<html><head>
    <style text="text/css">
    html, body {
        padding: 0; margin: 0;
    }
    #canvas {
        width: 2000px;
        height: 2000px;
        position: absolute;
        top: 0px;
        left: 0px;
    }
    #window {
        position: absolute;
        width: 100%;
        height: 100%;
        overflow: hidden;
    }
    </style>
    </head>
    <body>
    <div id="window">
    <canvas id="canvas" width="2000" height="2000" style="cursor: default;"></canvas>
    </div>
    <script type="text/javascript">
    var canvas = document.getElementById('canvas');
    var ctx = canvas.getContext('2d');
    var objs = [], cfp = 200;
    var color = 'green',cc1= 'black',cc2= 'green',cc3;
    x=-10;
    y=0;
    for (var i = 0; i<40000; i++) {
        
        color = '#dddddd';
        x = x+10;
        if(i==cfp){x=0;  cc3=cc1;cc1=cc2;cc2=cc3;} 
        
        objs.push({
            'x': x,
            'y': y,
            'w': 10,
            'h': 10,
            'c': color,
        })
        
        ctx.fillStyle = color;
        
        ctx.fillRect(x, y, 10, 10);
        if(i==cfp){y=y+10;cfp = cfp + 200;}
    }
    
    var capture = false, x = 0, y = 0, cx = 0, cy = 0;
    
    canvas.addEventListener('mousedown', function (event) {
        capture = true;
        x = event.clientX;
        y = event.clientY;
        
       
    }, false);
    
    canvas.addEventListener('mouseup', function () {
        capture = false;
        
        canvas.style.cursor = 'default';
    }, false);
    
    canvas.addEventListener('mousemove', function (event) {
        cool();
        if (capture) {
            cx -= x - event.clientX, cy -= y - event.clientY;
            
            canvas.style.top  = cy + 'px';
            canvas.style.left = cx + 'px';
            
            x = event.clientX;
            y = event.clientY;	
        }
    }, false);
    function cool(){
        var x = event.clientX - cx, y = event.clientY - cy;
        for (var i = 0; i<40000; i++) {
            var o = objs[i];
            
            if (o.x < x && x < o.x + o.w && o.y < y && y < o.h + o.y) {
             
                ctx.fillStyle = 'red';
                ctx.fillRect(o.x, o.y, 10, 10);
                break;
            }
        }
    }
    canvas.addEventListener('click', function (event) {
        var x = event.clientX - cx, y = event.clientY - cy;

    }, false);
    
    </script>
    
    </body></html>